(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/pSearchList/index"],{"04f6":function(o,e,t){},"5ef7":function(o,e,t){"use strict";t.r(e);var i=t("e692"),n=t("8b7b");for(var a in n)["default"].indexOf(a)<0&&function(o){t.d(e,o,(function(){return n[o]}))}(a);t("8f5a");var s,u=t("f0c5"),c=Object(u["a"])(n["default"],i["b"],i["c"],!1,null,"2ce3035a",null,!1,i["a"],s);e["default"]=c.exports},"8b7b":function(o,e,t){"use strict";t.r(e);var i=t("9bc6"),n=t.n(i);for(var a in i)["default"].indexOf(a)<0&&function(o){t.d(e,o,(function(){return i[o]}))}(a);e["default"]=n.a},"8f5a":function(o,e,t){"use strict";var i=t("04f6"),n=t.n(i);n.a},"952e":function(o,e,t){"use strict";(function(o){t("ad08");i(t("66fd"));var e=i(t("5ef7"));function i(o){return o&&o.__esModule?o:{default:o}}o(e.default)}).call(this,t("543d")["createPage"])},"9bc6":function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{paixuTitle:"综合",xiaoliangSort:2,jiageSort:2,ZongHeValue:"",ZongHeOptions:[{label:"综合排序",value:0},{label:"好评排序",value:32}],shaixuanBoxShow:!1,PriceSelectTagFlag:"",PriceSelectParam:{LowPrice:"",HighPrice:""},is_brand_goods:!1,with_coupon:!1,scrollTop:0,keyWord:"",opt_id:"",IsRequestGoodsList:!1,GoodsRecommend:[],GoodsRecommendSearch_id:"",GoodsRecommendPage:1,GoodsRecommendPageSize:30,GoodsRecommendList_id:"",IsGoodsPageEnd:!1,dicParam:{}}},onPageScroll:function(o){this.scrollTop=o.scrollTop},onLoad:function(o){var e=this;e.keyWord=o.keyword,o.opt_id&&(e.opt_id=o.opt_id,e.dicParam.opt_id=o.opt_id),e.InitGoodsListData()},onReachBottom:function(){this.IsRequestGoodsList||(this.GoodsRecommendPage=this.GoodsRecommendPage+1,this.InitGoodsListData())},methods:{jiageFun:function(){this.jiageSort=0==this.jiageSort?1:0,this.xiaoliangSort=2;var o=0==this.jiageSort?3:4;this.dicParam.sort_type=o,this.GoodsRecommendPage=1,this.GoodsRecommend=[],this.InitGoodsListData()},xiaoliangFun:function(){this.jiageSort=2,this.xiaoliangSort=0==this.xiaoliangSort?1:0;var o=0==this.xiaoliangSort?5:6;this.dicParam.sort_type=o,this.GoodsRecommendPage=1,this.GoodsRecommend=[],this.InitGoodsListData()},paixuChange:function(o){this.paixuTitle=0==o?"综合":"好评",this.dicParam.sort_type=o,this.GoodsRecommendPage=1,this.GoodsRecommend=[],this.InitGoodsListData()},ShaiXuanFun:function(){this.shaixuanBoxShow=!this.shaixuanBoxShow},PriceSelectFun:function(o){this.PriceSelectTagFlag=o},PriceSelectInputChange:function(o){this.PriceSelectTagFlag=""},ShaiXuanFunSave:function(){this.jiageSort=2,this.xiaoliangSort=2;var o=0,e=0;"PriceSelect1"==this.PriceSelectTagFlag?(o=0,e=30):"PriceSelect2"==this.PriceSelectTagFlag?(o=30,e=70):"PriceSelect3"==this.PriceSelectTagFlag?(o=70,e=9999999):(o=""==this.PriceSelectParam.LowPrice?0:this.PriceSelectParam.LowPrice,e=""==this.PriceSelectParam.HighPrice?9999999:this.PriceSelectParam.HighPrice);var t=[{range_id:0,range_from:o,range_to:e}];this.dicParam.range_list=JSON.stringify(t),this.GoodsRecommendPage=1,this.GoodsRecommend=[],this.InitGoodsListData(),this.shaixuanBoxShow=!this.shaixuanBoxShow},ShaiXuanFunCancel:function(){this.dicParam.range_list=void 0,this.GoodsRecommendPage=1,this.GoodsRecommend=[],this.InitGoodsListData(),this.shaixuanBoxShow=!this.shaixuanBoxShow},ChangeIsBrandGoods:function(o){this.dicParam.is_brand_goods=o.value,this.GoodsRecommendPage=1,this.GoodsRecommend=[],this.InitGoodsListData()},ChangeWithCoupon:function(o){this.dicParam.with_coupon=o.value,this.GoodsRecommendPage=1,this.GoodsRecommend=[],this.InitGoodsListData()},computePrice:function(o,e){return parseFloat(o-e).toFixed(2)},InitGoodsListData:function(){var o=this;o.IsRequestGoodsList=!0;var e={page:o.GoodsRecommendPage,page_size:o.GoodsRecommendPageSize,keyword:o.keyWord,custom_parameters:'{"new":1}',list_id:o.GoodsRecommendList_id};o.dicParam&&(e=this.$u.deepMerge(o.dicParam,e)),this.$u.post("/app/AppDuoduoJuan/GetGoodsSearchList",e).then((function(e){o.IsRequestGoodsList=!1,e.Issuccess?e.Data.goods_list.length>0?(e.Data.goods_list.forEach((function(e){o.GoodsRecommend.push(e)})),o.GoodsRecommendSearch_id=e.Data.search_id,e.Data.list_id&&(o.GoodsRecommendList_id=e.Data.list_id)):(o.GoodsRecommendPage<=1&&o.$refs.uToast.show({title:"未找到相关商品，请重新搜索",type:"warning"}),o.IsGoodsPageEnd=!0,o.IsRequestGoodsList=!0):o.$refs.uToast.show({title:e.DataMsg,type:"error"})})).catch((function(e){o.IsRequestGoodsList=!1}))},gotoDetail:function(o){this.$u.route("/pages/pdetail/index",{key:o.goods_sign,search_id:this.GoodsRecommendSearch_id})}}};e.default=i},e692:function(o,e,t){"use strict";t.d(e,"b",(function(){return n})),t.d(e,"c",(function(){return a})),t.d(e,"a",(function(){return i}));var i={uSearch:function(){return t.e("uview-ui/components/u-search/u-search").then(t.bind(null,"cd56"))},uRow:function(){return t.e("uview-ui/components/u-row/u-row").then(t.bind(null,"5e31"))},uCol:function(){return t.e("uview-ui/components/u-col/u-col").then(t.bind(null,"7917"))},uDropdown:function(){return t.e("uview-ui/components/u-dropdown/u-dropdown").then(t.bind(null,"4947"))},uDropdownItem:function(){return t.e("uview-ui/components/u-dropdown-item/u-dropdown-item").then(t.bind(null,"d420"))},uIcon:function(){return t.e("uview-ui/components/u-icon/u-icon").then(t.bind(null,"e1d2"))},uniTransition:function(){return t.e("components/uni-transition/uni-transition").then(t.bind(null,"bda7"))},uTag:function(){return t.e("uview-ui/components/u-tag/u-tag").then(t.bind(null,"ba3e"))},uButton:function(){return t.e("uview-ui/components/u-button/u-button").then(t.bind(null,"a091"))},uCheckbox:function(){return t.e("uview-ui/components/u-checkbox/u-checkbox").then(t.bind(null,"d1c0"))},uLine:function(){return t.e("uview-ui/components/u-line/u-line").then(t.bind(null,"dfe1"))},uLoading:function(){return t.e("uview-ui/components/u-loading/u-loading").then(t.bind(null,"c911"))},uDivider:function(){return t.e("uview-ui/components/u-divider/u-divider").then(t.bind(null,"3c84"))},uBackTop:function(){return t.e("uview-ui/components/u-back-top/u-back-top").then(t.bind(null,"f1a6"))},uToast:function(){return t.e("uview-ui/components/u-toast/u-toast").then(t.bind(null,"bb39"))}},n=function(){var o=this,e=o.$createElement,t=(o._self._c,{"z-index":"9999","margin-top":"15rpx",position:"fixed","background-color":"#FFF",width:"100%"}),i=o.__map(o.GoodsRecommend,(function(e,t){var i=o.__get_orig(e),n=o.computePrice(e.min_group_price/100,e.coupon_discount/100);return{$orig:i,m0:n}}));o.$mp.data=Object.assign({},{$root:{a0:t,l0:i}})},a=[]}},[["952e","common/runtime","common/vendor"]]]);