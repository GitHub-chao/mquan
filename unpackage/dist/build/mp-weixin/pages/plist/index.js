(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/plist/index"],{"0436":function(o,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return e}));var e={uSticky:function(){return n.e("uview-ui/components/u-sticky/u-sticky").then(n.bind(null,"5399"))},uTabs:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-tabs/u-tabs")]).then(n.bind(null,"137c"))},uCheckbox:function(){return n.e("uview-ui/components/u-checkbox/u-checkbox").then(n.bind(null,"d1c0"))},uLine:function(){return n.e("uview-ui/components/u-line/u-line").then(n.bind(null,"dfe1"))},uLoading:function(){return n.e("uview-ui/components/u-loading/u-loading").then(n.bind(null,"c911"))},uTag:function(){return n.e("uview-ui/components/u-tag/u-tag").then(n.bind(null,"ba3e"))},uDivider:function(){return n.e("uview-ui/components/u-divider/u-divider").then(n.bind(null,"3c84"))},uBackTop:function(){return n.e("uview-ui/components/u-back-top/u-back-top").then(n.bind(null,"f1a6"))}},i=function(){var o=this,t=o.$createElement,n=(o._self._c,o.__map(o.GoodsRecommend,(function(t,n){var e=o.__get_orig(t),i=o.computePrice(t.min_group_price/100,t.coupon_discount/100);return{$orig:e,m0:i}})));o.$mp.data=Object.assign({},{$root:{l0:n}})},s=[]},"2ca2":function(o,t,n){"use strict";(function(o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{stickyenable:!1,is_brand_goods:!1,with_coupon:!1,action:"",GoodsOptList:[],GoodsOptCurrent:0,opt_id:"",title:"商品列表",scrollTop:0,IsRequestGoodsList:!1,GoodsRecommend:[],GoodsRecommendSearch_id:"",GoodsRecommendPage:1,GoodsRecommendPageSize:30,IsGoodsPageEnd:!1,dicParam:{}}},onLoad:function(t){var n=this;n.action=t.action,n.opt_id=t.opt_id,n.title=t.opt_name,o.setNavigationBarTitle({title:n.title}),"opt"==n.action&&(n.dicParam={opt_id:n.opt_id},n.GetGoodsOptListByParentID()),n.InitGoodsListData()},onPageScroll:function(o){o.scrollTop>100&&(this.stickyenable=!0),this.scrollTop=o.scrollTop},onReachBottom:function(){this.IsRequestGoodsList||(this.GoodsRecommendPage=this.GoodsRecommendPage+1,this.InitGoodsListData())},methods:{ChangeIsBrandGoods:function(o){this.dicParam.is_brand_goods=o.value,this.GoodsRecommendPage=1,this.GoodsRecommend=[],this.InitGoodsListData()},ChangeWithCoupon:function(o){this.dicParam.with_coupon=o.value,this.GoodsRecommendPage=1,this.GoodsRecommend=[],this.InitGoodsListData()},computePrice:function(o,t){return parseFloat(o-t).toFixed(2)},GetGoodsOptListByParentID:function(){var o=this,t={parent_opt_id:o.opt_id};o.$u.post("/app/AppDuoduoJuan/GetGoodsOptInfo",t).then((function(t){t.Issuccess&&(o.GoodsOptList=[],t.Data.goods_opt_list&&t.Data.goods_opt_list.length>0&&(o.GoodsOptList=t.Data.goods_opt_list))})).catch((function(o){console.log(o)}))},GoodsOptChange:function(o){if(this.GoodsOptCurrent=o,this.GoodsOptList[o].opt_id){var t=this.GoodsOptList[o].opt_id;this.GoodsRecommend=[],this.GoodsRecommendPage=1,this.dicParam.opt_id=t,this.InitGoodsListData()}},InitGoodsListData:function(){var o=this;o.IsRequestGoodsList=!0;var t={page:o.GoodsRecommendPage,page_size:o.GoodsRecommendPageSize};o.dicParam&&(t=this.$u.deepMerge(o.dicParam,t)),this.$u.post("/app/AppDuoduoJuan/GetGoodsSearchList",t).then((function(t){o.IsRequestGoodsList=!1,t.Issuccess&&(t.Data.goods_list.length>0?t.Data.goods_list.forEach((function(t){o.GoodsRecommend.push(t)})):(o.IsGoodsPageEnd=!0,o.IsRequestGoodsList=!0))})).catch((function(t){o.IsRequestGoodsList=!1}))},gotoDetail:function(o){this.$u.route("/pages/pdetail/index",{key:o.goods_sign,search_id:this.GoodsRecommendSearch_id})}}};t.default=n}).call(this,n("543d")["default"])},"2f83":function(o,t,n){},7659:function(o,t,n){"use strict";(function(o){n("ad08");e(n("66fd"));var t=e(n("d78f"));function e(o){return o&&o.__esModule?o:{default:o}}o(t.default)}).call(this,n("543d")["createPage"])},b18f:function(o,t,n){"use strict";var e=n("2f83"),i=n.n(e);i.a},bd70:function(o,t,n){"use strict";n.r(t);var e=n("2ca2"),i=n.n(e);for(var s in e)["default"].indexOf(s)<0&&function(o){n.d(t,o,(function(){return e[o]}))}(s);t["default"]=i.a},d78f:function(o,t,n){"use strict";n.r(t);var e=n("0436"),i=n("bd70");for(var s in i)["default"].indexOf(s)<0&&function(o){n.d(t,o,(function(){return i[o]}))}(s);n("b18f");var u,a=n("f0c5"),d=Object(a["a"])(i["default"],e["b"],e["c"],!1,null,"64a476b6",null,!1,e["a"],u);t["default"]=d.exports}},[["7659","common/runtime","common/vendor"]]]);