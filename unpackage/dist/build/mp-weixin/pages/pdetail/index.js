(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/pdetail/index"],{"0f79":function(e,n,t){},1973:function(e,n,t){"use strict";var o=t("0f79"),i=t.n(o);i.a},"294d":function(e,n,t){"use strict";(function(e){t("ad08");o(t("66fd"));var n=o(t("570c"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},"570c":function(e,n,t){"use strict";t.r(n);var o=t("d220"),i=t("e07c");for(var u in i)["default"].indexOf(u)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(u);t("1973");var a,r=t("f0c5"),c=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,"822779d0",null,!1,o["a"],a);n["default"]=c.exports},ab71:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("e1a7"));function i(e){return e&&e.__esModule?e:{default:e}}var u={data:function(){return{PageLoading:!1,keyid:"",search_id:"",pageData:{},swiperList:[],scrollTop:20,isShowShare:!1,ShareTit:"",ShareImg:"",ShareUrl:""}},onLoad:function(e){var n=this;n.keyid=e.key,n.search_id=e.search_id,n.PageLoading=!0,n.InitDetail()},onPageScroll:function(e){this.scrollTop=e.scrollTop},methods:{computePrice:function(e,n){return parseFloat(e-n).toFixed(2)},InitDetail:function(){var e=this,n={goods_sign:e.keyid,search_id:e.search_id};this.$u.post("/app/AppDuoduoJuan/GetGoodsDetailInfo",n).then((function(n){n.Issuccess&&(e.pageData=n.Data.goods_details[0],e.$u.mpShare.title=e.pageData.goods_name),e.PageLoading=!1})).catch((function(e){console.log(e)}))},GetCouponUrl:function(){var n=this,t={};t={goods_sign_list:"['"+n.keyid+"']",generate_mall_collect_coupon:!0,generate_we_app:!0,search_id:n.search_id},this.$u.post("/app/AppDuoduoJuan/GenerateGoodsPromotionUrl",t).then((function(n){if(n.Issuccess){var t=n.Data.goods_promotion_url_list[0];e.navigateToMiniProgram({appId:t.we_app_info.app_id,path:t.we_app_info.page_path,success:function(e){}})}})).catch((function(e){console.log(e)}))},shareDetail:function(){var e=this,n=this,t={};t={goods_sign_list:"['"+n.keyid+"']",generate_mall_collect_coupon:!0,generate_we_app:!0,search_id:n.search_id},this.$u.post("/app/AppDuoduoJuan/GenerateGoodsPromotionUrl",t).then((function(n){if(n.Issuccess){var t=n.Data.goods_promotion_url_list[0],o=t.short_url;e.ShareTit=e.pageData.goods_name,e.ShareImg=e.pageData.goods_gallery_urls[0],e.ShareUrl=o,e.isShowShare=!0}})).catch((function(e){console.log(e)}))},copyShare:function(){var n=this.ShareTit+"\r\n";n+="券后价： ￥"+this.computePrice(this.pageData.min_group_price/100,this.pageData.coupon_discount/100)+"元\r\n",n+="原价： ￥"+this.pageData.min_group_price/100+"元\r\n",n+="链接："+this.ShareUrl,(0,o.default)({content:n,success:function(n){e.showToast({title:n,icon:"none"})},error:function(n){e.showToast({title:n,icon:"none",duration:3e3})}})},gotoPage:function(e){"home"==e?this.$u.route({type:"switchTab",url:"pages/index/index"},2e3):"kefu"==e&&this.$u.route({url:"pages/kefu/index"},2e3)}}};n.default=u}).call(this,t("543d")["default"])},d220:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return u})),t.d(n,"a",(function(){return o}));var o={uSwiper:function(){return t.e("uview-ui/components/u-swiper/u-swiper").then(t.bind(null,"bbb4"))},uTag:function(){return t.e("uview-ui/components/u-tag/u-tag").then(t.bind(null,"ba3e"))},uDivider:function(){return t.e("uview-ui/components/u-divider/u-divider").then(t.bind(null,"3c84"))},uIcon:function(){return t.e("uview-ui/components/u-icon/u-icon").then(t.bind(null,"e1d2"))},uButton:function(){return t.e("uview-ui/components/u-button/u-button").then(t.bind(null,"a091"))},uPopup:function(){return t.e("uview-ui/components/u-popup/u-popup").then(t.bind(null,"448c"))},uBackTop:function(){return t.e("uview-ui/components/u-back-top/u-back-top").then(t.bind(null,"f1a6"))},uSkeleton:function(){return t.e("uview-ui/components/u-skeleton/u-skeleton").then(t.bind(null,"3a3e"))}},i=function(){var e=this,n=e.$createElement,t=(e._self._c,e.computePrice(e.pageData.min_group_price/100,e.pageData.coupon_discount/100)),o=e.$u.timeFormat(e.pageData.coupon_start_time,"yyyy-mm-dd"),i=e.$u.timeFormat(e.pageData.coupon_end_time,"yyyy-mm-dd"),u=e.computePrice(e.pageData.min_group_price/100,e.pageData.coupon_discount/100);e._isMounted||(e.e0=function(n){e.isShowShare=!1}),e.$mp.data=Object.assign({},{$root:{m0:t,g0:o,g1:i,m1:u}})},u=[]},e07c:function(e,n,t){"use strict";t.r(n);var o=t("ab71"),i=t.n(o);for(var u in o)["default"].indexOf(u)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(u);n["default"]=i.a}},[["294d","common/runtime","common/vendor"]]]);